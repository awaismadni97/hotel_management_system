<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Property</title>
    <!-- bootstrap css -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css">
</head>
<style>
    .error {
        color: red;
        font-size: small;
    }

    span {
        color: red;
    }
</style>

<body>
    <!-- Top-nav bar -->
    <div id="top-nav-placeholder"></div>
    <h4 class="text-center mt-3">Add Property</h4>
    <div class="container my-5 d-flex">
        <form id="propertyForm" class="m-auto">
            <div class="form-group">
                <label for="property_title">
                    Title
                </label>
                <span>*</span>
                <input type="text" class="form-control" id="property_title" name="property_title" autofocus>
            </div>
            <div class="form-group">
                <label for="room_type">
                    Room Type
                </label>
                <span>*</span>
                <select class="form-control" id="room_type" name="room_type">
                    <option selected="true" disabled="disabled">Select Room Type</option>
                    <option value="standard">standard</option>
                    <option value="deluxe">deluxe</option>
                    <option value="suite">suite</option>
                </select>
            </div>
            <div class="form-group">
                <label for="property_location">
                    Location
                </label>
                <span>*</span>
                <select class="form-control" id="property_location" name="property_location">
                    <option selected="true" disabled="disabled">Select Location</option>
                    <option value="Lahore">Lahore</option>
                    <option value="Sargoda">Sargoda</option>
                    <option value="Islamabad">Islamabad</option>
                </select>
            </div>
            <!-- <div class="form-group">
                    <label for="">Display Order</label>
                    <input type="text" id="disp_order" class="form-control">
                </div> -->
            <div class="form-group">
                <label for="property_description">
                    Property Description
                </label>
                <textarea class="form-control" id="property_description" row="2"></textarea>
            </div>
            <div class="form-group">
                <label for="price_plan">Pricing/Night</label>
                <input type="text" name="price_plan" id="price_plan" class="form-control">
            </div>
            <div class="form-group">
                <label for="uploadFile">
                    Add Image
                </label>
                <span>*</span>
                <br>
                <input type="file" id="uploadFile" class="" name="uploadFile" accept=".png, .jpg, .jpeg" multiple>
                <div>
                    <img src="" alt="" id="bannerImg" width="100">
                </div>
            </div>
            <!-- Connect Attributes modal -->
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-outline-success form-control" data-toggle="modal"
                data-target="#exampleModalLong" id="modal_btn"> Connect Attributes</button>
            <br>
            <br>
            <button type="submit" class="form-control btn btn-outline-primary " id="submit">Add</button>
        </form>
    </div>

    <!-- Modal -->

    <div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Property Attributes</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                  
                <form action="" id="attrForm">
                <div class="modal-body">
                   
                        <div class="form-group">
                            <label for="room_limit">Room Limit</label>
                            <input type="text" name="room_limit" id="room_limit" class="form-control" autofocus>
                        </div>
                        <div class="form-group">
                            <label for="">Bed Type</label>
                            <select name="bed_Type" id="bed_Type" class="form-control">
                                <option selected="true" disabled="disabled">--Select--</option>
                                <option value="single bed">single bed</option>
                                <option value="double bed">double bed</option>
                                <option value="triple bed">triple bed</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="view-choice">View Choice</label>
                            <select name="view-choice" id="view-choice" class="form-control">
                                <option selected="true" disabled="disabled">--Select--</option>
                                <option value="city view">city view</option>
                                <option value="sea view">sea view</option>
                                <option value="garden view">garden view</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <p class="ml-0">
                                Non Smokey Rooms
                                <br>
                                <input class="form-check-input ml-1" type="radio" name="smoke_options"
                                    id="smoke_options_yes" value="1">
                                <label class="form-check-label ml-4" for="flexRadioDefault1">
                                    Yes
                                </label>
                                <input class="form-check-input ml-4" type="radio" name="smoke_options"
                                    id="smoke_options_no" value="0">
                                <label class="form-check-label ml-5" for="flexRadioDefault1">
                                    No
                                </label>
                            </p>
                        </div>
                        <div class="form-group">
                            <p class="ml-0">
                                Pet-Friendly
                                <br>
                                <input class="form-check-input ml-1" type="radio" name="pet_options" id="pet_options_yes"
                                    value="1">
                                <label class="form-check-label ml-4" for="flexRadioDefault1">
                                    Yes
                                </label>
                                <input class="form-check-input ml-4" type="radio" name="pet_options" id="pet_options_no"
                                    value="0">
                                <label class="form-check-label ml-5" for="flexRadioDefault1">
                                    No
                                </label>
                            </p>
                        </div>
                        <div class="form-group">
                            <p class="ml-0">
                                Air Conditioning Service
                                <br>
                                <input class="form-check-input ml-1" type="radio" name="ac_options" id="ac_options_yes"
                                    value="1">
                                <label class="form-check-label ml-4" for="flexRadioDefault1">
                                    Yes
                                </label>
                                <input class="form-check-input ml-4" type="radio" name="ac_options" id="ac_options_no"
                                    value="0">
                                <label class="form-check-label ml-5" for="flexRadioDefault1">
                                    No
                                </label>
                            </p>
                        </div>
                        <div class="form-group">
                            <p class="ml-0">
                                kitchen availablity
                                <br>
                                <input class="form-check-input ml-1" type="radio" name="kitchen_options"
                                    id="kitchen_options_yes" value="1">
                                <label class="form-check-label ml-4" for="flexRadioDefault1">
                                    Yes
                                </label>
                                <input class="form-check-input ml-4" type="radio" name="kitchen_options"
                                    id="kitchen_options_no" value="0">
                                <label class="form-check-label ml-5" for="flexRadioDefault1">
                                    No
                                </label>
                            </p>
                        </div>

                        <div class="form-group">
                            <p class="ml-0">
                                Tv Service
                                <br>
                                <input class="form-check-input ml-1" type="radio" name="Tv_options" id="Tv_options_yes"
                                    value="1">
                                <label class="form-check-label ml-4" for="flexRadioDefault1">
                                    Yes
                                </label>
                                <input class="form-check-input ml-4" type="radio" name="Tv_options" id="Tv_options_no"
                                    value="0">
                                <label class="form-check-label ml-5" for="flexRadioDefault1">
                                    No
                                </label>
                            </p>
                        </div>
                        <div class="form-group">
                            <p class="ml-0">
                                Room Service
                                <br>
                                <input class="form-check-input ml-1" type="radio" name="room_service" id="room_service_yes"
                                    value="1">
                                <label class="form-check-label ml-4" for="flexRadioDefault1">
                                    Yes
                                </label>
                                <input class="form-check-input ml-4" type="radio" name="room_service" id="room_service_no"
                                    value="0">
                                <label class="form-check-label ml-5" for="flexRadioDefault1">
                                    No
                                </label>
                            </p>
                        </div>
                        <div class="form-group">
                            <p class="ml-0">
                                Private Bathrooms
                                <br>
                                <input class="form-check-input ml-1" type="radio" name="bathroom_service"
                                    id="bathroom_service_yes" value="1">
                                <label class="form-check-label ml-4" for="flexRadioDefault1">
                                    Yes
                                </label>
                                <input class="form-check-input ml-4" type="radio" name="bathroom_service"
                                    id="bathroom_service_no" value="0">
                                <label class="form-check-label ml-5" for="flexRadioDefault1">
                                    No
                                </label>
                            </p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                             <button type="submit" class="btn btn-primary" id="save_btn">Save changes</button>
                            
                        </div>
                    </form>
                </div>
                
            </div>
        </div>
    </div>
    <!-- Attributes modal closed -->
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js"></script>
    <!-- Here right down below , we will add toast src -->
    <!-- <script src="./FileSaver.js-master/src/FileSaver.js"></script> -->
    <script src="./partials/addProperty.js"></script>
    <script src="./partials/property_attribute.js"></script>
    <!--Bootstrap jquery and js  -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"></script>
    <script>

        
       document.addEventListener('DOMContentLoaded', function () {
            
            const topNavPlaceholder = document.getElementById('top-nav-placeholder');
            fetch('../admin_Layout/top-nav.html')
                .then(response => response.text())
                .then(content => {
                    topNavPlaceholder.innerHTML = content;
                });
       
              

            // Get the URL query parameters
            const urlParams = new URLSearchParams(window.location.search);
            const editIndex = urlParams.get('index');

            // Check if the editIndex is defined and valid
            if (editIndex !== null && !isNaN(editIndex) && editIndex >= 0) {
                // Use the editIndex to populate the input fields
                id = editIndex;
                $("#submit").text("Update");
                document.getElementById('property_title').value = arr[editIndex].propertyTitle;
                document.getElementById('room_type').value = arr[editIndex].roomType;
                document.getElementById('property_location').value = arr[editIndex].propertyLocation;
                document.getElementById('property_description').value = arr[editIndex].PropertyDescription;
                document.getElementById('price_plan').value= arr[editIndex].pricingPlan;
                // let picname = arr[editIndex].PropertyImages[0].filename;

                // document.getElementById('bannerImg').setAttribute('src', '../public/storage/property_images/picname');
                    
                // For setting values for attribute Form
                document.getElementById('room_limit').value= arr[editIndex].propertyAttributesArray[0].roomLimit;
                document.getElementById('bed_Type').value= arr[editIndex].propertyAttributesArray[0].BedType;
                document.getElementById('view-choice').value=arr[editIndex].propertyAttributesArray[0].viewChoice;

                // For (Yes/No)
        if (arr[editIndex].propertyAttributesArray[0].NonSmokeyRoom === "1") {
            document.getElementById('smoke_options_yes').checked = true;
        } else {
            document.getElementById('smoke_options_no').checked = true;
        }


        if (arr[editIndex].propertyAttributesArray[0].PetFriendly === "1") {
            document.getElementById('pet_options_yes').checked = true;
        } else {
            document.getElementById('pet_options_no').checked = true;
        }


        if(arr[editIndex].propertyAttributesArray[0].airConditioningService === "1"){
            document.getElementById('ac_options_yes').checked = true;
        }else {
            document.getElementById('ac_options_no').checked = true;
        }

        if(arr[editIndex].propertyAttributesArray[0].kitchenAvailablity === "1"){
            document.getElementById('kitchen_options_yes').checked = true;
        }else {
            document.getElementById('kitchen_options_no').checked = true;
        }

        if(arr[editIndex].propertyAttributesArray[0].tvService === "1"){
            document.getElementById('Tv_options_yes').checked = true;
        }else {
            document.getElementById('Tv_options_no').checked = true;
        }

        if(arr[editIndex].propertyAttributesArray[0].roomService === "1"){
            document.getElementById('room_service_yes').checked = true;
        }else {
            document.getElementById('room_service_no').checked = true;
        }

        if(arr[editIndex].propertyAttributesArray[0].privateBathRooms === "1"){
            document.getElementById('bathroom_service_yes').checked = true;
        }else {
            document.getElementById('bathroom_service_no').checked = true;
        }
          
            
     }

        });
    </script>
</body>

</html>






