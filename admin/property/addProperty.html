
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Add Property</title>
        <!-- bootstrap css -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css">
      
    </head>
    <style>
        .error {
          color: red;
          font-size: small;
        }
    
        span {
          color: red;
        }
      </style>
    <body>
       <!-- Top-nav bar -->
        <div id="top-nav-placeholder">

        </div> 
        
        <h4 class="text-center mt-3">Add Property</h4>
        <div class="container my-5 d-flex justify-content-around" >
           
            <form id="propertyForm">
               
                <div class="form-group">
                    <label for="property_title">
                     Title
                    </label>
                    <span>*</span>
                    <input
                        type="text"
                        class="form-control"
                        id="property_title" name="property_title"
                        autofocus
                    >
                </div>
                <div class="form-group">
                    <label for="room_type">
                        Room Type
                    </label>
                    <span>*</span>
                    <select class="form-control" id="room_type" name="room_type">
                        <option selected="true" disabled="disabled">Select Room Type</option>
                        <option value="Single Room">Single Room</option>
                        <option value="Twin Room">Twin Room</option>
                        <option value="Triple Room">Triple Room</option>
                        <option value="Quadruple Room">Quadruple Room</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="property_location">
                        Location
                    </label>
                    <span>*</span>
                    <select  class="form-control" id="property_location" name="property_location">
                        <option selected="true" disabled="disabled">Select Location</option>
                        <option value="Lahore">Lahore</option>
                        <option value="Sargoda">Sargoda</option>
                        <option value="Islamabad">Islamabad</option>
                    </select>
                </div>

                <!-- <div class="form-group">
                    <label for="">Display Order</label>
                    <input type="text" id="disp_order" class="form-control">
                </div> -->

                <div class="form-group">
                    <label for="property_description">
                        Property Description
                    </label>
                    <textarea class="form-control" id="property_description" row="2"></textarea>
                </div>
                <div class="form-group">
                    <label for="uploadFile">
                        Add Image
                        
                    </label> <span>*</span><br>
                    <input type="file" id="uploadFile" class="" name="uploadFile" accept=".png, .jpg, .jpeg"  multiple >
                     <div><img src="" alt="" id="bannerImg" width="100"></div>
                </div>
                <br>
                <button type="submit" class="form-control btn btn-outline-primary " id="submit">Add</button>
            </form>
        </div>
    </div>
   
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js"></script>
    <!-- Here right down below , we will add toast src -->
    <!-- <script src="./FileSaver.js-master/src/FileSaver.js"></script> -->
    <script src="./partials/addProperty.js"></script>
   
    <!--Bootstrap jquery and js  -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"></script>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const topNavPlaceholder = document.getElementById('top-nav-placeholder');
    fetch('../admin_Layout/top-nav.html')
      .then(response => response.text())
      .then(content => {
        topNavPlaceholder.innerHTML = content;
      });

  // Get the URL query parameters
  const urlParams = new URLSearchParams(window.location.search);
  const editIndex = urlParams.get('index');

  // Check if the editIndex is defined and valid
  if (editIndex !== null && !isNaN(editIndex) && editIndex >= 0) {
    // Use the editIndex to populate the input fields
    id=editIndex;
    $("#submit").text("Update");
    document.getElementById('property_title').value = arr[editIndex].propertyTitle;
    document.getElementById('room_type').value = arr[editIndex].roomType;
    document.getElementById('property_location').value = arr[editIndex].propertyLocation;
    document.getElementById('property_description').value = arr[editIndex].PropertyDescription;
    let picname= arr[editIndex].PropertyImages[0].filename;
   
    document.getElementById('bannerImg').setAttribute('src','../public/storage/property_images/picname');
    
   
  }

});
    </script>
</body>
</html>

